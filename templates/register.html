<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Create Account - FlareGate Dashboard</title>
<link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
<link href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ec4899", // Pink primary
                        "background-light": "#fdf4f9",
                        "background-dark": "#111827",
                        "surface-dark": "#1f2937",
                    },
                    fontFamily: {
                        "display": ["Spline Sans", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px" },
                },
            },
        }
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-900 dark:text-gray-100 antialiased min-h-screen flex items-center justify-center relative overflow-hidden">
<div class="absolute inset-0 overflow-hidden pointer-events-none">
<div class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_0%,rgba(236,72,153,0.15),transparent_50%)]"></div>
<div class="absolute top-[-10%] left-[-10%] w-96 h-96 bg-primary/20 rounded-lg blur-[100px] animate-pulse"></div>
<div class="absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-purple-900/40 rounded-lg blur-[100px]"></div>
</div>
<main class="w-full max-w-md px-4 relative z-10">
<div class="flex flex-col items-center mb-8 text-center">
<div class="w-16 h-16 bg-gradient-to-br from-primary to-pink-600 rounded-md flex items-center justify-center shadow-lg shadow-primary/30 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300">
<span class="material-symbols-outlined text-white text-[32px]">add_circle</span>
</div>
<h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white">Setup FlareGate</h1>
<p class="text-gray-500 dark:text-gray-400 mt-2 text-sm">Create your admin account to get started</p>
</div>
<div class="bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-sm relative">
<div class="absolute top-0 inset-x-0 h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-50"></div>
<div class="p-8 pb-6">
<div class="mb-6">
<h2 class="text-xl font-bold text-gray-900 dark:text-white">Create Admin Account</h2>
<p class="text-sm text-gray-500 dark:text-gray-400 mt-1">This will be the only user account for this system.</p>
</div>

<!-- ERROR ALERT -->
{{ if .error }}
<div class="mb-6 p-4 rounded-md bg-red-500/10 border border-red-500/20 flex items-center gap-3">
    <span class="material-symbols-outlined text-red-500 text-xl">error</span>
    <p class="text-sm text-red-500 font-medium">{{ .error }}</p>
</div>
{{ end }}

<form class="flex flex-col gap-5" action="/register" method="POST">
<div class="space-y-1.5">
<label class="block text-xs font-bold text-primary uppercase tracking-wider ml-1">Username</label>
<div class="relative group">
<div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">person</span>
</div>
<input name="username" value="{{ .username }}" class="w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-md text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all text-sm font-medium" placeholder="Choose a username" type="text" required/>
</div>
</div>
<div class="space-y-1.5">
<label class="block text-xs font-bold text-primary uppercase tracking-wider ml-1">Password</label>
<div class="relative group">
<div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">lock</span>
</div>
<input name="password" id="password" class="w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-md text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all text-sm font-medium" placeholder="••••••••" type="password" required minlength="6"/>
</div>
</div>
<div class="space-y-1.5">
<label class="block text-xs font-bold text-primary uppercase tracking-wider ml-1">Confirm Password</label>
<div class="relative group">
<div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 group-focus-within:text-primary transition-colors">
<span class="material-symbols-outlined text-[20px]">lock_reset</span>
</div>
<input name="confirm_password" id="confirm_password" class="w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-md text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all text-sm font-medium" placeholder="••••••••" type="password" required minlength="6"/>
</div>
</div>
<button class="mt-2 w-full bg-primary hover:bg-pink-600 text-white text-sm font-bold py-3.5 rounded-md shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all duration-300 transform active:scale-[0.98] flex items-center justify-center gap-2" type="submit">
<span>Create Account</span>
<span class="material-symbols-outlined text-[18px]">check</span>
</button>
</form>
</div>
<div class="px-8 py-5 bg-gray-50 dark:bg-black/20 border-t border-gray-200 dark:border-white/5 text-center">
<p class="text-sm text-gray-500 dark:text-gray-400">
    This is a single-user system. Once created, you cannot register another account.
</p>
</div>
</div>
</div>

<script>
// Password confirmation validation
document.getElementById('confirm_password').addEventListener('input', function() {
    const password = document.getElementById('password').value;
    const confirmPassword = this.value;

    if (password !== confirmPassword) {
        this.setCustomValidity('Passwords do not match');
    } else {
        this.setCustomValidity('');
    }
});

document.getElementById('password').addEventListener('input', function() {
    const password = this.value;
    const confirmPassword = document.getElementById('confirm_password').value;

    if (confirmPassword && password !== confirmPassword) {
        document.getElementById('confirm_password').setCustomValidity('Passwords do not match');
    } else {
        document.getElementById('confirm_password').setCustomValidity('');
    }
});
</script>

</body></html>